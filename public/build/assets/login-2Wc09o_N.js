import{r,j as e,L as p,a as d}from"./app-Ko3WzgPD.js";import{L as b}from"./apis-Cm_PwQt8.js";import{M as g}from"./mail-0JIicruW.js";import{L as f}from"./lock-ENsPRRE1.js";import{L as h}from"./loader-circle-sW11S-b7.js";import"./createLucideIcon-DHzvr9mH.js";function j(){const[l,m]=r.useState(""),[n,u]=r.useState(""),[o,i]=r.useState(!1),[c,t]=r.useState(""),x=async a=>{a.preventDefault(),t(""),i(!0);try{if(!l||!n){t("Please fill in all fields");return}const s=await b({email:l,password:n});if(console.log("Login Response:",s.data),s.data.status==="onboarding"){d.visit("/onboarding",{data:{},onSuccess:()=>{alert(s.data.message)}});return}if(s.data.status==="success"){d.visit("/dashboard",{onSuccess:()=>{alert(s.data.message)}});return}t("Login failed. Please try again.")}catch(s){console.error(s),t("Invalid email or password")}finally{i(!1)}};return e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"Sign in to your account"}),c&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:c}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-3 text-slate-500",size:18}),e.jsx("input",{type:"email",value:l,onChange:a=>m(a.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 text-slate-500",size:18}),e.jsx("input",{type:"password",value:n,onChange:a=>u(a.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 bg-accent hover:bg-accent/90 rounded-lg font-medium flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(h,{size:18,className:"animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-slate-400",children:["Don't have an account?"," ",e.jsx(p,{href:"/signup",className:"text-accent hover:underline",children:"Sign up"})]})]})})}function k(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-slate-900 to-background px-4",children:e.jsx(j,{})})}export{k as default};
