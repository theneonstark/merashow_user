import{r as p,j as e,a as k}from"./app-Ko3WzgPD.js";import{o as m}from"./apis-Cm_PwQt8.js";import{C as f}from"./check-CrB36jOY.js";import{c as j}from"./createLucideIcon-DHzvr9mH.js";const _=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w=j("chevron-left",_);const T=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A=j("chevron-right",T);function H(){const[s,c]=p.useState(1),[u,r]=p.useState(!1),[a,h]=p.useState({organizationName:"",businessType:"",description:"",contactPerson:"",contactPhone:"",gst_certificate:null,aadhaar_front:null,aadhaar_back:null,pan_card:null,bankAccountHolder:"",bankAccountNumber:"",ifscCode:"",agreeToTerms:!1}),o=n=>{let l=n.target.name,i=n.target.files[0];h(d=>({...d,[l]:i}))},t=n=>{const{name:l,value:i,type:d,checked:C}=n.target;h(v=>({...v,[l]:d==="checkbox"?C:i}))},x=a.organizationName&&a.businessType&&a.contactPerson&&a.contactPhone,g=a.gst_certificate&&a.aadhaar_front&&a.aadhaar_back&&a.pan_card,b=a.agreeToTerms&&a.bankAccountHolder&&a.bankAccountNumber&&a.ifscCode,N=async()=>{try{if(s===1&&x)r(!0),await m({step:1,organizationName:a.organizationName,businessType:a.businessType,description:a.description,contactPerson:a.contactPerson,contactPhone:a.contactPhone}),c(2);else if(s===2&&g){r(!0);const n=new FormData;n.append("step",2),n.append("gst_certificate",a.gst_certificate),n.append("aadhaar_front",a.aadhaar_front),n.append("aadhaar_back",a.aadhaar_back),n.append("pan_card",a.pan_card),await m(n),c(3)}else s===3&&b&&await y()}catch(n){console.error("Error:",n)}finally{r(!1)}},y=async()=>{r(!0);try{await m({step:3,bankAccountHolder:a.bankAccountHolder,bankAccountNumber:a.bankAccountNumber,ifscCode:a.ifscCode,agreeToTerms:a.agreeToTerms}),k.visit("/organizer/dashboard")}catch(n){console.error("Onboarding error:",n)}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-background py-8",children:e.jsxs("div",{className:"container mx-auto max-w-2xl px-4",children:[e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"flex items-center gap-2 mb-8",children:[1,2,3].map(n=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition ${n<s?"bg-green-500 text-white":n===s?"bg-accent text-background":"bg-slate-700 text-slate-400"}`,children:n<s?e.jsx(f,{size:20}):n}),n<3&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${n<s?"bg-green-500":"bg-slate-700"}`})]},n))})}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-8",children:[s===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"General Information"}),e.jsx("input",{type:"text",name:"organizationName",value:a.organizationName,onChange:t,placeholder:"Organization Name",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"}),e.jsxs("select",{name:"businessType",value:a.businessType,onChange:t,className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg",children:[e.jsx("option",{value:"",children:"Select business type"}),e.jsx("option",{value:"concerts",children:"Concerts"}),e.jsx("option",{value:"sports",children:"Sports"}),e.jsx("option",{value:"workshops",children:"Workshops"}),e.jsx("option",{value:"corporate",children:"Corporate"}),e.jsx("option",{value:"entertainment",children:"Entertainment"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("textarea",{name:"description",value:a.description,onChange:t,placeholder:"Business description",rows:"3",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"}),e.jsx("input",{type:"text",name:"contactPerson",value:a.contactPerson,onChange:t,placeholder:"Contact Person",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"}),e.jsx("input",{type:"tel",name:"contactPhone",value:a.contactPhone,onChange:t,placeholder:"Contact Phone",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"})]}),s===2&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload Documents"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"GST Certificate *"}),e.jsx("input",{type:"file",name:"gst_certificate",onChange:o,accept:".pdf,.jpg,.jpeg,.png",className:"file-input"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Aadhaar Card (Front) *"}),e.jsx("input",{type:"file",name:"aadhaar_front",onChange:o,accept:".jpg,.jpeg,.png"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Aadhaar Card (Back) *"}),e.jsx("input",{type:"file",name:"aadhaar_back",onChange:o,accept:".jpg,.jpeg,.png"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"PAN Card *"}),e.jsx("input",{type:"file",name:"pan_card",onChange:o,accept:".pdf,.jpg,.jpeg,.png"})]})]}),s===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Bank Details"}),e.jsx("input",{type:"text",name:"bankAccountHolder",value:a.bankAccountHolder,onChange:t,placeholder:"Account Holder Name",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"}),e.jsx("input",{type:"text",name:"bankAccountNumber",value:a.bankAccountNumber,onChange:t,placeholder:"Account Number",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"}),e.jsx("input",{type:"text",name:"ifscCode",value:a.ifscCode,onChange:t,placeholder:"IFSC Code",className:"w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg"}),e.jsxs("label",{className:"flex items-start gap-3 p-4 border border-slate-600 rounded-lg",children:[e.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:a.agreeToTerms,onChange:t}),e.jsx("span",{children:"I agree to Terms & Conditions *"})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,s-1)),disabled:s===1,className:"px-6 py-2 border border-slate-600 rounded-lg disabled:opacity-50",children:[e.jsx(w,{className:"inline mr-2"})," Previous"]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:N,disabled:s===1&&!x||s===2&&!g||s===3&&!b||u,className:"px-6 py-2 bg-accent rounded-lg text-black",children:s<3?e.jsxs(e.Fragment,{children:["Next ",e.jsx(A,{className:"inline ml-2"})]}):e.jsxs(e.Fragment,{children:[u?"Completing...":"Complete",e.jsx(f,{className:"inline ml-2"})]})})]})]})]})})}export{H as default};
